# Web 功能自动化测试工具 - 快速开始指南

## 5 分钟快速开始

### 步骤 1：加载插件

1. 打开 Chrome 浏览器
2. 进入 `chrome://extensions/`
3. 点击右上角"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `web-test-automation` 文件夹

### 步骤 2：打开插件

- 点击 Chrome 右上角的插件图标
- 或点击浏览器右上角的拼图图标 → 选择此插件

### 步骤 3：开始测试

```
1. 输入网址: https://example.com
2. 点击"开始测试"按钮
3. 等待测试完成（新标签页会自动打开）
4. 点击"查看报告"查看结果
```

## 工作原理

```
输入URL
   ↓
打开网页
   ↓
自动识别所有按钮/链接/表单
   ↓
逐个点击/操作测试
   ↓
监控API请求响应
   ↓
生成可视化报告
```

## 报告中的数据说明

| 指标         | 含义                       |
| ------------ | -------------------------- |
| 测试元素总数 | 网页中找到的可交互元素数量 |
| 成功         | 操作成功的元素数           |
| 失败         | 操作失败的元素数           |
| API 错误     | 返回错误的 API 请求数      |

## 典型使用场景

### 场景 1：测试新发布的网站

```
1. 输入新网站URL
2. 开始自动测试
3. 查看报告找出问题
4. 导出报告给开发团队
```

### 场景 2：测试 API 是否正常

```
1. 输入网站URL
2. 在报告中查看"API请求分析"
3. 检查状态码（2xx为成功）
4. 导出CSV分析异常请求
```

### 场景 3：对比多个网站

```
1. 分别测试多个网站
2. 导出每个网站的JSON报告
3. 比较成功率、API错误等指标
```

## 键盘快捷键

| 快捷键       | 功能                   |
| ------------ | ---------------------- |
| Ctrl+Shift+X | 打开插件弹窗（需配置） |

## 常用快捷键说明

- **F12**: 打开浏览器开发者工具（调试测试过程）
- **Ctrl+Shift+Delete**: 清除存储的测试数据

## 数据存储位置

所有测试数据存储在：

- Chrome Local Storage
- 浏览器关闭时数据不会删除
- 可通过插件导出为文件

## 常见问题

**Q: 测试速度很快吗？**
A: 每个元素的操作间隔约 800-1000ms，以确保 API 能够正确响应。

**Q: 会修改网站数据吗？**
A: 大多数情况下只是读操作和测试操作，不会删除数据。建议在测试环境运行。

**Q: 如何删除测试数据？**
A:

- 单个报告：在报告页面刷新会清除
- 所有数据：在 `chrome://extensions/` 点击"清除数据"

**Q: 支持哪些浏览器？**
A: 目前仅支持 Chrome/Chromium 系列浏览器。

## 高级用法

### 自定义测试元素

编辑 `src/content-script.js` 中的 `getInteractiveElements()` 函数

### 修改测试配置

编辑 `src/popup.js` 中的默认配置

### 添加自定义事件监听

在 `src/content-script.js` 中添加：

```javascript
document.addEventListener("myCustomEvent", handleEvent);
```

## 调试技巧

1. **查看 Content Script 日志**

   - 在目标网页按 F12 → Console 标签
   - 搜索 "[Web 测试工具]" 前缀的日志

2. **查看 Service Worker 日志**

   - 进入 `chrome://extensions/`
   - 找到此插件，点击"Service Worker"
   - 在打开的控制台中查看日志

3. **检查存储数据**
   - F12 → Storage → IndexedDB/Local Storage
   - 查看 "chrome-extension://..." 的数据

## 更新日志

### v1.0.0 (2024-01)

- ✨ 初始版本发布
- 🎯 支持自动化元素测试
- 📊 生成可视化报告
- 🔍 API 请求监控
- 💾 数据导出功能

## 文件结构速查

```
src/
├── popup.html      ← 插件弹窗界面
├── popup.js        ← 弹窗逻辑和UI交互
├── content-script.js ← 元素识别和测试执行
├── background.js   ← 后台服务
├── report.html     ← 报告页面
└── report.js       ← 报告数据和图表
```

## 性能指标

| 项目             | 数值     |
| ---------------- | -------- |
| 识别元素时间     | < 1 秒   |
| 单个元素测试时间 | ~1 秒    |
| 报告生成时间     | < 2 秒   |
| 存储数据大小     | ~ 1-5 MB |

## 支持的网站

✅ 大多数现代网站都支持
✅ 特别是包含以下元素的网站：

- 按钮 `<button>`
- 链接 `<a>`
- 表单 `<input>`, `<textarea>`

❌ 不支持：

- 某些特殊的 FLASH/Canvas 应用
- 某些需要身份验证的网站
- 某些有严格 CSP 策略的网站

## 获取帮助

1. 查看本指南的"常见问题"部分
2. 检查浏览器开发者工具中的错误
3. 查看插件代码中的注释
4. 参考 README.md 获取详细文档

---

**提示**: 定期查看报告，可以及时发现网站问题！
