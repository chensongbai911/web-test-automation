# 📊 Web 功能自动化测试工具

## 🎯 项目概述

这是一个功能完整的 Chrome 浏览器插件，可以自动化测试网页的所有功能，包括：

- 🎮 自动识别并点击所有按钮、链接、表单
- 📡 监控所有 API 请求和响应
- 📊 生成专业的可视化测试报告
- 📥 支持导出 JSON/CSV 格式数据

## 📁 项目结构

```
web-test-automation/
│
├── 📄 README.md                    # 完整项目文档
├── 📄 QUICKSTART.md               # 快速开始指南
├── 📄 FILES.md                    # 文件说明文档
├── 📄 EXAMPLES.md                 # 完整使用示例
├── 📄 INSTALL.md                  # 安装指南（本文件）
├── 📄 package.json                # NPM配置文件
│
├── 📄 manifest.json               # Chrome扩展清单
│
└── 📁 src/                        # 源代码目录
    │
    ├── 🎨 UI界面层
    │   ├── popup.html            # 弹窗界面
    │   ├── popup.css             # 弹窗样式
    │   └── popup.js              # 弹窗交互
    │
    ├── 🧪 测试执行层
    │   ├── content-script.js     # 页面测试脚本
    │   └── background.js         # 后台服务
    │
    └── 📈 报告生成层
        ├── report.html           # 报告页面
        ├── report.css            # 报告样式
        └── report.js             # 报告逻辑
```

## 🚀 快速开始

### 1️⃣ 安装插件（5 分钟）

```bash
# 步骤1：打开Chrome
# chrome://extensions/

# 步骤2：启用开发者模式（右上角）

# 步骤3：加载已解压的扩展程序
# 选择 web-test-automation 文件夹

# 步骤4：完成！
```

### 2️⃣ 运行测试

```
1. 点击插件图标
2. 输入网址 (如 https://www.example.com)
3. 点击"开始测试"
4. 等待完成
5. 查看报告
```

### 3️⃣ 查看结果

- 📊 可视化图表（成功率、错误分布）
- 📋 详细数据表（所有测试元素、API 请求）
- 📥 导出数据（JSON、CSV 格式）
- 🖨️ 打印报告

## ✨ 主要功能

### 🎯 自动化测试

```
✓ 自动识别网页元素（按钮、链接、表单）
✓ 模拟真实用户交互（点击、输入、选择）
✓ 逐个执行测试，收集结果
✓ 实时显示进度和统计
```

### 📡 API 监控

```
✓ 拦截Fetch请求
✓ 拦截XHR请求
✓ 记录HTTP状态码
✓ 分类统计（2xx、3xx、4xx、5xx）
```

### 📊 报告生成

```
✓ 测试统计概览（成功率、失败数、API错误数）
✓ 饼图展示（成功vs失败的比例）
✓ 柱状图统计（按元素类型分类）
✓ API分析（HTTP状态码分布）
✓ 详细表格（所有元素、请求列表）
```

### 💾 数据导出

```
✓ 导出JSON格式（完整数据）
✓ 导出CSV格式（Excel兼容）
✓ 打印生成PDF
✓ 实时日志显示
```

## 📈 工作流程

```
输入URL
   ↓
打开网页
   ↓
识别可交互元素
   ↓
依次执行测试
   ↓
监控API请求
   ↓
收集测试数据
   ↓
生成可视化报告
```

## 🔧 技术栈

| 组件       | 技术                 | 说明               |
| ---------- | -------------------- | ------------------ |
| 扩展框架   | Chrome Extension MV3 | 最新的扩展开发标准 |
| DOM 操作   | Content Script       | 在页面上下文中执行 |
| 后台处理   | Service Worker       | 消息转发和数据存储 |
| 网络监控   | Fetch/XHR 拦截       | 监控所有网络请求   |
| 数据可视化 | Chart.js             | 绘制图表           |
| 样式       | CSS3 + Flex          | 响应式设计         |

## 📖 文档导航

| 文档          | 用途           | 适合人群 |
| ------------- | -------------- | -------- |
| README.md     | 完整项目文档   | 所有人   |
| QUICKSTART.md | 5 分钟快速开始 | 新用户   |
| FILES.md      | 代码文件说明   | 开发者   |
| EXAMPLES.md   | 详细使用案例   | 高级用户 |
| INSTALL.md    | 安装指南       | 新用户   |

## 🎨 用户界面

### 弹窗界面

```
┌────────────────────────────────┐
│  Web功能自动化测试            │
│  输入网址并自动化测试所有功能  │
├────────────────────────────────┤
│ 目标网址: [https://example.com]│
├────────────────────────────────┤
│ 测试配置                       │
│ ☑ 测试交互按钮                │
│ ☑ 监控API请求                │
│ ☑ 捕获截图                   │
│ ☑ 捕获控制台日志              │
├────────────────────────────────┤
│ [▶ 开始测试] [⏹ 停止测试]     │
│ [📊 查看报告]                  │
├────────────────────────────────┤
│ 测试状态                       │
│ ████████░░░░░░░░░░░░ 40%      │
│ 已测试按钮: 16/40             │
│ 成功: 15  失败: 1  API错误: 0 │
│                                │
│ [10:30:15] 开始测试...        │
│ [10:30:16] 找到40个元素       │
│ [10:30:17] ✓ 测试成功: 搜索   │
└────────────────────────────────┘
```

### 报告界面

```
┌──────────────────────────────────────────┐
│ 📊 Web功能自动化测试报告                 │
│ 测试地址: https://example.com            │
│ 测试时间: 2024-01-15 10:30:00            │
├──────────────────────────────────────────┤
│ 测试统计概览                             │
│ ┌─────────┬─────────┬─────────┬────────┐ │
│ │ 📋 40  │ ✓ 38   │ ✗ 2    │ ⚠ 1   │ │
│ │ 总数   │ 成功   │ 失败   │ 错误  │ │
│ └─────────┴─────────┴─────────┴────────┘ │
├──────────────────────────────────────────┤
│ 测试结果分布                             │
│ ┌───────────────────────────────────┐   │
│ │         成功 95%                  │   │
│ │      ▓▓▓▓▓▓▓▓▓▓                  │   │
│ │   ▓▓▓▓▓▓▓▓▓▓▓▓▓                   │   │
│ │ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓                 │   │
│ │失败 5%                            │   │
│ └───────────────────────────────────┘   │
├──────────────────────────────────────────┤
│ API请求分析                             │
│ 总请求: 35  ✓ 2xx: 34  ⚠ 4xx: 1       │
├──────────────────────────────────────────┤
│ 导出选项                                 │
│ [📥 导出JSON] [📊 导出CSV] [🖨 打印]    │
└──────────────────────────────────────────┘
```

## 🌟 核心特性

### 智能元素识别

- ✅ 按钮 `<button>`
- ✅ 链接 `<a>`
- ✅ 表单 `<input>`, `<textarea>`, `<select>`
- ✅ 其他可交互元素

### 实时监控

- 📊 实时进度显示
- 📝 详细操作日志
- 🔍 API 请求拦截
- ⚠️ 错误实时提醒

### 专业报告

- 📈 多种图表类型
- 📋 详细数据表格
- 💾 多格式导出
- 🖨️ 支持打印 PDF

## 🛠️ 自定义扩展

### 修改识别规则

```javascript
// src/content-script.js
function getInteractiveElements() {
  // 添加自定义选择器
  document.querySelectorAll('your-selector').forEach(el => {
    elements.push({...});
  });
}
```

### 修改测试逻辑

```javascript
// src/content-script.js
async function performInteraction(item) {
  // 自定义交互方式
  // 添加特殊处理
}
```

### 扩展报告功能

```html
<!-- src/report.html -->
<section class="section">
  <h2>自定义部分</h2>
  <div id="customChart"></div>
</section>
```

## 🐛 故障排除

### 无法加载插件

- 检查 manifest.json 语法
- 确认文件路径正确
- 查看扩展程序错误信息

### 测试无法开始

- 确认 URL 格式正确
- 检查网络连接
- 查看浏览器控制台错误

### 报告显示异常

- 清除浏览器缓存
- 尝试隐身模式
- 检查 JavaScript 错误

## 📚 学习资源

### 官方文档

- [Chrome Extension 官方文档](https://developer.chrome.com/docs/extensions/)
- [Manifest V3 指南](https://developer.chrome.com/docs/extensions/mv3/)

### 相关技术

- [Chart.js 图表库](https://www.chartjs.org/)
- [MDN Web API 文档](https://developer.mozilla.org/zh-CN/docs/Web/API)
- [Chrome Storage API](https://developer.chrome.com/docs/extensions/reference/storage/)

## 🤝 贡献指南

欢迎改进和扩展此项目！

### 可以做的改进

- 🎨 改进 UI 设计
- 🚀 优化性能
- ✨ 添加新功能
- 🐛 修复问题
- 📚 完善文档

### 扩展功能建议

- 📹 截图和录视频
- 🔐 支持登录流程
- ⚡ 性能监控（FCP、LCP）
- 🎯 自定义测试场景
- 📧 邮件报告发送

## 📝 许可证

MIT License - 可自由使用和修改

## 👤 作者

Web Testing Tool Team

## 🔗 相关链接

- [Chrome Web Store](https://chrome.google.com/webstore)
- [GitHub 仓库](https://github.com/)
- [问题反馈](https://github.com/)

---

## 📞 获取帮助

### 快速问题

→ 查看 QUICKSTART.md

### 详细使用

→ 查看 EXAMPLES.md

### 技术细节

→ 查看 FILES.md

### 完整文档

→ 查看 README.md

---

**当前版本**: 1.0.0
**最后更新**: 2024 年 1 月
**状态**: ✅ 稳定版

## ✅ 功能清单

- [x] 自动识别网页元素
- [x] 执行自动化交互测试
- [x] 监控 API 请求
- [x] 生成可视化报告
- [x] 数据导出功能
- [x] 打印报告
- [x] 响应式 UI 设计
- [x] 完整文档

## 🎯 下一步

1. ✅ 阅读快速开始指南（QUICKSTART.md）
2. ✅ 安装并加载插件到 Chrome
3. ✅ 运行第一个测试
4. ✅ 查看并分析报告
5. ✅ 根据需要导出数据

---

**准备好开始了吗？** 👉 [快速开始指南](QUICKSTART.md)
